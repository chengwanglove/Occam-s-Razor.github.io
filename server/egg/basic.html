<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>egg基础 | 奥卡姆剃刀&#39;s world</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Occam-s-Razor.github.io/la-m.png">
    <meta name="description" content=" Always believe something beautiful is going to happen">
    <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/Occam-s-Razor.github.io/assets/css/0.styles.2496960f.css" as="style"><link rel="preload" href="/Occam-s-Razor.github.io/assets/js/app.9fe0057a.js" as="script"><link rel="preload" href="/Occam-s-Razor.github.io/assets/js/2.b130be8d.js" as="script"><link rel="preload" href="/Occam-s-Razor.github.io/assets/js/53.ae08af5d.js" as="script"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/10.fcf2115a.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/11.ea825871.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/12.ef5db695.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/13.930d1701.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/14.3a531215.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/15.a2ad1ee9.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/16.c0ee0347.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/17.c7514ea4.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/18.ddce3563.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/19.20122702.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/20.0733eba3.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/21.248cc17c.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/22.83734036.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/23.8347b6e7.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/24.4abcbfad.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/25.804e889c.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/26.7504b88d.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/27.d753887d.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/28.870ce96a.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/29.b92e79f5.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/3.5fb028d2.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/30.d0bb698b.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/31.fcf0d7ee.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/32.7b2d6fb9.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/33.9b22ad12.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/34.a8e63dd4.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/35.47cd8119.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/36.f55f889a.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/37.ea9b4129.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/38.06209641.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/39.053c6fd5.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/4.f9ba3bbe.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/40.ba63ef8e.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/41.d3be7c2b.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/42.f14eb4e1.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/43.a7988370.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/44.bfd28bd9.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/45.089af14d.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/46.6e5fc8a9.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/47.cdbd3e4e.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/48.f773e2ae.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/49.09418b6a.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/5.5cef1c2e.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/50.b547892c.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/51.9dee8616.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/52.20717b43.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/54.b48035b7.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/55.ea6ce53c.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/56.19fd731f.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/57.69abcc69.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/58.3f26c7be.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/59.d31b1fe6.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/6.c6c6814f.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/60.9a4dce46.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/61.a1fa0d69.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/62.562c89df.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/63.2b03bccb.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/64.f83fe2ef.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/65.be09fabd.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/66.d535a54e.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/67.9f26cb12.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/68.b233ff3c.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/69.43c43e64.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/7.af738acf.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/8.1d7c9e69.js"><link rel="prefetch" href="/Occam-s-Razor.github.io/assets/js/9.d2fec54f.js">
    <link rel="stylesheet" href="/Occam-s-Razor.github.io/assets/css/0.styles.2496960f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Occam-s-Razor.github.io/" class="home-link router-link-active"><!----> <span class="site-name">奥卡姆剃刀's world</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Occam-s-Razor.github.io/guide/install.html" class="nav-link">
  前端知识
</a></div><div class="nav-item"><a href="/Occam-s-Razor.github.io/computerScience/install.html" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/Occam-s-Razor.github.io/server/install.html" class="nav-link">
  服务端知识
</a></div> <a href="https://github.com/chengwanglove/Occam-s-Razor.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Occam-s-Razor.github.io/guide/install.html" class="nav-link">
  前端知识
</a></div><div class="nav-item"><a href="/Occam-s-Razor.github.io/computerScience/install.html" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/Occam-s-Razor.github.io/server/install.html" class="nav-link">
  服务端知识
</a></div> <a href="https://github.com/chengwanglove/Occam-s-Razor.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node基础知识(done)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>egg(done)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Occam-s-Razor.github.io/server/egg/basic.html" aria-current="page" class="active sidebar-link">egg基础</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="egg基础"><a href="#egg基础" class="header-anchor">#</a> egg基础</h1> <h3 id="特性-约定由于配置"><a href="#特性-约定由于配置" class="header-anchor">#</a> 特性 (约定由于配置)</h3> <ul><li>基于koa性能好</li> <li>插价机制 拓展好</li> <li>内置多进程管理 无需pm2 多进程管理模式</li> <li>框架稳定性高</li></ul> <h3 id="egg和koa"><a href="#egg和koa" class="header-anchor">#</a> egg和koa</h3> <ul><li>异步编程基于 node8以上基于 async await</li> <li>koa和express Middleware 洋葱模型 继承与同一套http库 koa比express多了一个context对象</li> <li>egg继承koa app/extend{application context request response}。js对于这四个对象的拓展</li> <li>插价 config 配置各个环境下插件自身的默认配置项 middleware配置多个中间件 处理请求前和请求后的处理</li> <li>支持node.js8以上的版本</li></ul> <h3 id="快速入门"><a href="#快速入门" class="header-anchor">#</a> 快速入门</h3> <h4 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h4> <div class="language- extra-class"><pre class="language-text"><code>$ mkdir egg-example
$ cd egg-example
$ npm init
$ npm i egg --save
$ npm i egg-bin --save-dev
</code></pre></div><h4 id="编写controller和router"><a href="#编写controller和router" class="header-anchor">#</a> 编写controller和router</h4> <div class="language- extra-class"><pre class="language-text"><code>app/controller/home.js 

const Controller = require('egg').Controller;

class HomeController extends Controller {
  async index() {
    this.ctx.body = 'Hello world';
  }
}

module.exports = HomeController;


app/router.js

// 路由映射
module.exports = app =&gt; {
  const { router, controller } = app;
  router.get('/', controller.home.index);
};

// 默认配置文件
app/config/config.default.js

exports.key = 'afafafafa';
</code></pre></div><h4 id="静态资源"><a href="#静态资源" class="header-anchor">#</a> 静态资源</h4> <ul><li>egg内置static插架 默认在app/public里面</li></ul> <h4 id="模版渲染"><a href="#模版渲染" class="header-anchor">#</a> 模版渲染</h4> <div class="language- extra-class"><pre class="language-text"><code> npm i egg-view-nunjucks --save

 app/config/plugin
exports.nunjucks = {
  enable: true,
  package: 'egg-view-nunjucks'
};

// config/config.default.js
exports.keys = &lt;此处改为你自己的 Cookie 安全字符串&gt;;
// 添加 view 配置
exports.view = {
  defaultViewEngine: 'nunjucks',
  mapping: {
    '.tpl': 'nunjucks',
  },
};

提示：开发期默认开启了 development 插件，修改后端代码后，会自动重启 Worker 进程。
</code></pre></div><h4 id="编写service"><a href="#编写service" class="header-anchor">#</a> 编写service</h4> <h4 id="编写拓展"><a href="#编写拓展" class="header-anchor">#</a> 编写拓展</h4> <div class="language- extra-class"><pre class="language-text"><code>// app/extend/helper.js 里面写辅助函数
</code></pre></div><h4 id="编写middleware"><a href="#编写middleware" class="header-anchor">#</a> 编写middleware</h4> <div class="language- extra-class"><pre class="language-text"><code>module.exports = (options, app) =&gt; {
  return async function robotMiddleware(ctx, next) {
    const source = ctx.get('user-agent') || '';
    const match = options.ua.some(ua =&gt; ua.test(source));
    if (match) {
      ctx.status = 403;
      ctx.message = 'Go away, robot.';
    } else {
      await next();
    }
  }
};

// config/config.default.js
// add middleware robot
exports.middleware = [
  'robot'
];
// robot's configurations
exports.robot = {
  ua: [
    /Baiduspider/i,
  ]
};
</code></pre></div><h4 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h4> <div class="language- extra-class"><pre class="language-text"><code>// config/config.default.js
exports.robot = {
  ua: [
    /curl/i,
    /Baiduspider/i,
  ],
};

// config/config.local.js
// only read at development mode, will override default
exports.robot = {
  ua: [
    /Baiduspider/i,
  ],
};

// app/service/some.js
const Service = require('egg').Service;

class SomeService extends Service {
  async list() {
    const rule = this.config.robot.ua;
  }
}

module.exports = SomeService;
</code></pre></div><h3 id="目录机构"><a href="#目录机构" class="header-anchor">#</a> 目录机构</h3> <div class="language- extra-class"><pre class="language-text"><code>egg-project
├── package.json
├── app.js (可选)
├── agent.js (可选)
├── app
|   ├── router.js
│   ├── controller
│   |   └── home.js
│   ├── service (可选)
│   |   └── user.js
│   ├── middleware (可选)
│   |   └── response_time.js
│   ├── schedule (可选)
│   |   └── my_task.js
│   ├── public (可选)
│   |   └── reset.css
│   ├── view (可选)
│   |   └── home.tpl
│   └── extend (可选)
│       ├── helper.js (可选)
│       ├── request.js (可选)
│       ├── response.js (可选)
│       ├── context.js (可选)
│       ├── application.js (可选)
│       └── agent.js (可选)
├── config
|   ├── plugin.js
|   ├── config.default.js
│   ├── config.prod.js
|   ├── config.test.js (可选)
|   ├── config.local.js (可选)
|   └── config.unittest.js (可选)
└── test
    ├── middleware
    |   └── response_time.test.js
    └── controller
        └── home.test.js
</code></pre></div><h3 id="内置对象"><a href="#内置对象" class="header-anchor">#</a> 内置对象</h3> <h4 id="application"><a href="#application" class="header-anchor">#</a> application</h4> <ul><li>Application 是全局应用对象，在一个应用中，只会实例化一个，它继承自 Koa.Application，在它上面我们可以挂载一些全局的方法和对象。我们可以轻松的在插件或者应用中扩展 Application 对象。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// app.js
module.exports = app =&gt; {
  app.once('server', server =&gt; {
    // websocket
  });
  app.on('error', (err, ctx) =&gt; {
    // report error
  });
  app.on('request', ctx =&gt; {
    // log receive request
  });
  app.on('response', ctx =&gt; {
    // ctx.starttime is set by framework
    const used = Date.now() - ctx.starttime;
    // log total cost
  });
};

获取方式

controller service 

启动自定义脚本

</code></pre></div><h3 id="context"><a href="#context" class="header-anchor">#</a> context</h3> <ul><li><p>Context 是一个请求级别的对象，继承自 Koa.Context。在每一次收到用户请求时，框架会实例化一个 Context 对象，这个对象封装了这次用户请求的信息，并提供了许多便捷的方法来获取请求参数或者设置响应信息。controller middleware service</p></li> <li><p>可以通过 Application.createAnonymousContext() 方法创建一个匿名 Context 实例</p></li></ul> <h3 id="controller-和-service"><a href="#controller-和-service" class="header-anchor">#</a> controller 和 service</h3> <div class="language- extra-class"><pre class="language-text"><code>ctx - 当前请求的 Context 实例。
app - 应用的 Application 实例。
config - 应用的配置。
service - 应用所有的 service。
logger - 为当前 controller 封装的 logger 对象。
</code></pre></div><h3 id="helper-挂载到-context中"><a href="#helper-挂载到-context中" class="header-anchor">#</a> helper 挂载到 context中</h3> <h3 id="运行环境"><a href="#运行环境" class="header-anchor">#</a> 运行环境</h3> <ul><li><p>指定运行环境 config/env 或者 EGG_SERVER_ENV=prod npm start</p></li> <li><p>应用内获取运行环境  app.config.env</p></li> <li><p>运行环境相关配置 config配置</p></li></ul> <h3 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h3> <p>配置<a href="https://eggjs.org/zh-cn/basics/config.html#%E5%90%88%E5%B9%B6%E8%A7%84%E5%88%99" target="_blank" rel="noopener noreferrer">egg链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="middleware"><a href="#middleware" class="header-anchor">#</a> middleware</h3> <ul><li><p>如何编写中间价</p></li> <li><p>使用中间件</p></li> <li><p>配置中间件</p></li></ul> <h3 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h3> <ul><li>如何定义router</li> <li>router定义说明</li> <li>router实战 获取参数</li></ul> <h3 id="controller"><a href="#controller" class="header-anchor">#</a> controller</h3> <ul><li><p>解析用户输入 处理返回结果 1.数据库参数  2.html请求返回不同模版 3 转发服务器</p></li> <li><p>获取用户http请求参数  校验，组装参数  调用service  http 响应结果返回</p></li></ul> <h4 id="获取controller参数"><a href="#获取controller参数" class="header-anchor">#</a> 获取controller参数</h4> <ul><li>ctx.query.name  ctx.params  ctx.body</li> <li>获取上传文件</li> <li>head参数的获取 ctx.headers  ctx.get ctx.host ctx.protocol ctx.ip</li> <li>发送http响应 设置status 设置body 设置header  重定向</li></ul> <h4 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h4> <ul><li>获取cookies ctx.cookies获取读取cookie</li></ul> <h3 id="service"><a href="#service" class="header-anchor">#</a> service</h3> <ul><li>复杂数据的处理，比如要展现的信息需要从数据库获取，还要经过一定的规则计算，才能返回用户显示。或者计算完成后，更新到数据库。
第三方服务的调用，比如 GitHub 信息获取等。</li></ul> <h3 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h3> <ul><li><p>why ?<br>
1.中间件加载其实是有先后顺序的，但是中间件自身却无法管理这种顺序，只能交给使用者。这样其实非常不友好，一旦顺序不对，结果可能有天壤之别。
2.中间件的定位是拦截用户请求，并在它前后做一些事情，例如：鉴权、安全检查、访问日志等等。但实际情况是，有些功能是和请求无关的，例如：定时任务、消息订阅、后台逻辑等等
3.有些功能包含非常复杂的初始化逻辑，需要在应用启动的时候完成。这显然也不适合放到中间件中去实现。</p></li> <li><p>relation ?</p></li></ul> <p>包含点 service 中间件 配置  框架拓展 没有plugin 和 controller router</p> <ul><li><p>how to use it?
plugin 引入 挂载到了app上了
环境配置 根据运行环境加载
渐近式开发 package path 两种模式</p></li> <li><p>how to create it?</p></li></ul> <p><a href="https://eggjs.org/zh-cn/advanced/plugin.html" target="_blank" rel="noopener noreferrer">插件开发<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="启动自定义"><a href="#启动自定义" class="header-anchor">#</a> 启动自定义</h3> <ul><li>配置文件即将加载，这是最后动态修改配置的时机（configWillLoad）
配置文件加载完成（configDidLoad）
文件加载完成（didLoad）
插件启动完毕（willReady）
worker 准备就绪（didReady）
应用启动完成（serverDidReady）
应用即将关闭（beforeClose）</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chengwanglove/Occam-s-Razor.github.io/edit/master/docs/server/egg/basic.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/10/23 下午6:51:23</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Occam-s-Razor.github.io/server/node/childProcess.html" class="prev">
        nodejs 子进程 child_process 和 cluster
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Occam-s-Razor.github.io/assets/js/app.9fe0057a.js" defer></script><script src="/Occam-s-Razor.github.io/assets/js/2.b130be8d.js" defer></script><script src="/Occam-s-Razor.github.io/assets/js/53.ae08af5d.js" defer></script>
  </body>
</html>
