(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{389:function(t,n,e){"use strict";e.r(n);var a=e(41),r=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"debounce-and-throttle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debounce-and-throttle"}},[t._v("#")]),t._v(" debounce and throttle")]),t._v(" "),e("h2",{attrs:{id:"debounce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debounce"}},[t._v("#")]),t._v(" debounce")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 第六版\nfunction debounce(func, wait, immediate) {\n\n    var timeout, result;\n\n    var debounced = function () {\n        var context = this;\n        var args = arguments;\n\n        if (timeout) clearTimeout(timeout);\n        if (immediate) {\n            // 如果已经执行过，不再执行\n            var callNow = !timeout;\n            timeout = setTimeout(function(){\n                timeout = null;\n            }, wait)\n            if (callNow) result = func.apply(context, args)\n        }\n        else {\n            timeout = setTimeout(function(){\n                func.apply(context, args)\n            }, wait);\n        }\n        return result;\n    };\n\n    debounced.cancel = function() {\n        clearTimeout(timeout);\n        timeout = null;\n    };\n\n    return debounced;\n}\n")])])]),e("h2",{attrs:{id:"节流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#节流"}},[t._v("#")]),t._v(" 节流")]),t._v(" "),e("ul",[e("li",[t._v("如果你持续触发事件，每隔一段时间，只执行一次事件。")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(" function throttle(func, wait) {\n    var startTime = 0;\n    var timerOut;\n    return function() {\n        var context = this;\n        var args = arguments;\n        var now = new Date().getTime();\n        if (!startTime) {\n            func.apply(context, args);\n            startTime = now;\n            timerOut = setTimeout(()=> {\n                timerOut = null;\n            }, wait);\n        }\n        if (!timerOut && startTime) {\n            timerOut = setTimeout(()=> {\n                func.apply(context, args);\n                timerOut = null;\n            }, wait);\n        }\n    }\n}\n")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);